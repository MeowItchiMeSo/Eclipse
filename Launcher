using System;
using System.IO;

class Launcher
{
    private const string USERNAME = "admin";
    private const string PASSWORD = "password";

    static void Main(string[] args)
    {
        Console.WriteLine("Welcome to Project Eclipse");
        Console.WriteLine("-------------------------");

        if (!Login())
        {
            Console.WriteLine("Invalid username or password. Access denied.");
            return;
        }

        Console.WriteLine("Login successful. Welcome, " + USERNAME + "!");

        bool running = true;
        while (running)
        {
            DisplayOptions();
            int option = GetIntInput();

            switch (option)
            {
                case 1:
                    ListDirectoryContents();
                    break;
                case 2:
                    LaunchApplication();
                    break;
                case 3:
                    Console.WriteLine("Exiting the launcher. Goodbye!");
                    running = false;
                    break;
                default:
                    Console.WriteLine("Invalid option. Please try again.");
                    break;
            }
        }
    }

    private static bool Login()
    {
        Console.Write("Enter username: ");
        string enteredUsername = Console.ReadLine();
        Console.Write("Enter password: ");
        string enteredPassword = Console.ReadLine();
        return IsValidLogin(enteredUsername, enteredPassword);
    }

    private static bool IsValidLogin(string enteredUsername, string enteredPassword)
    {
        return enteredUsername == USERNAME && enteredPassword == PASSWORD;
    }

    private static void DisplayOptions()
    {
        Console.WriteLine("\nLauncher Options:");
        Console.WriteLine("1. List Directory Contents");
        Console.WriteLine("2. Launch Application");
        Console.WriteLine("3. Exit");
        Console.Write("Choose an option: ");
    }

    private static int GetIntInput()
    {
        while (true)
        {
            if (int.TryParse(Console.ReadLine(), out int result))
            {
                return result;
            }
            else
            {
                Console.WriteLine("Invalid input. Please enter a number.");
            }
        }
    }

    private static void ListDirectoryContents()
    {
        Console.Write("Enter the directory path: ");
        string directoryPath = Console.ReadLine().Trim();

        if (string.IsNullOrEmpty(directoryPath))
        {
            Console.WriteLine("Directory path cannot be empty. Please enter a valid directory path.");
            return;
        }

        if (Directory.Exists(directoryPath))
        {
            string[] files = Directory.GetFiles(directoryPath);
            string[] directories = Directory.GetDirectories(directoryPath);

            if (files.Length > 0 || directories.Length > 0)
            {
                Console.WriteLine($"Files and folders in directory: {directoryPath}");
                foreach (string file in files)
                {
                    Console.WriteLine(Path.GetFileName(file));
                }
                foreach (string directory in directories)
                {
                    Console.WriteLine(Path.GetFileName(directory));
                }
            }
            else
            {
                Console.WriteLine("No files or folders found in the directory.");
            }
        }
        else
        {
            Console.WriteLine("Invalid directory path. Please enter a valid directory path.");
        }
    }

    private static void LaunchApplication()
    {
        // Implement application launching logic here
        Console.WriteLine("Launching application...");
    }
}
